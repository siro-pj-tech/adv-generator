<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Adventure Game Prompt Generator v1.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
        body { font-family: 'Noto Sans JP', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%); }
        .prompt-card { @apply bg-white border border-gray-200 rounded-xl p-4 shadow-sm mb-4; }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-gray-50 min-h-screen pb-12 text-gray-800">

    <!-- Header -->
    <header class="gradient-bg text-white py-12 shadow-lg mb-8">
        <div class="container mx-auto px-4 text-center">
            <div class="inline-block bg-white/20 px-3 py-1 rounded-full text-xs font-bold mb-4 backdrop-blur-sm">Version 1.0 Release</div>
            <h1 class="text-3xl md:text-4xl font-extrabold mb-3 tracking-tight">AI ADV ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
            <p class="text-sm md:text-base opacity-90 max-w-2xl mx-auto leading-relaxed">
                ChatGPTã‚„Geminiãªã©ã®å¯¾è©±å‹AIã‚’ã€ç¬æ™‚ã«ç†Ÿç·´ã®ã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼ã«å¤‰è²Œã•ã›ã‚‹ã€‚
                ç”»åƒç”Ÿæˆã¨ç‰©èªé€²è¡Œã‚’æœ€é©åŒ–ã—ã€å®‰å®šã—ãŸã‚²ãƒ¼ãƒ ä½“é¨“ã‚’æ§‹ç¯‰ã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆä½œæˆãƒ„ãƒ¼ãƒ«ã€‚
            </p>
        </div>
    </header>

    <main class="container mx-auto px-4 max-w-3xl">
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden mb-8 border border-gray-100">
            <!-- Settings Panel -->
            <div class="p-6 md:p-10 space-y-8">
                
                <!-- Scenario Selection -->
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-4 flex items-center gap-2">
                        <span class="bg-indigo-600 text-white w-5 h-5 rounded-full flex items-center justify-center text-[10px]">1</span>
                        ã‚·ãƒŠãƒªã‚ªãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ
                    </label>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <button onclick="selectScenario('mystery')" id="btn-mystery" class="scenario-btn border-2 border-indigo-50 p-4 rounded-2xl hover:bg-indigo-50 transition-all text-left group">
                            <div class="text-2xl mb-2 group-hover:scale-110 transition-transform">ğŸ”</div>
                            <div class="font-bold text-gray-800 text-sm md:text-base">æ¨ç†</div>
                            <div class="text-[10px] text-gray-400">Suspense</div>
                        </button>
                        <button onclick="selectScenario('dungeon')" id="btn-dungeon" class="scenario-btn border-2 border-indigo-50 p-4 rounded-2xl hover:bg-indigo-50 transition-all text-left group">
                            <div class="text-2xl mb-2 group-hover:scale-110 transition-transform">âš”ï¸</div>
                            <div class="font-bold text-gray-800 text-sm md:text-base">RPG</div>
                            <div class="text-[10px] text-gray-400">Fantasy</div>
                        </button>
                        <button onclick="selectScenario('escape')" id="btn-escape" class="scenario-btn border-2 border-indigo-50 p-4 rounded-2xl hover:bg-indigo-50 transition-all text-left group">
                            <div class="text-2xl mb-2 group-hover:scale-110 transition-transform">ğŸšª</div>
                            <div class="font-bold text-gray-800 text-sm md:text-base">è„±å‡º</div>
                            <div class="text-[10px] text-gray-400">Escape</div>
                        </button>
                        <button onclick="selectScenario('custom')" id="btn-custom" class="scenario-btn border-2 border-indigo-50 p-4 rounded-2xl hover:bg-indigo-50 transition-all text-left group">
                            <div class="text-2xl mb-2 group-hover:scale-110 transition-transform">âœ¨</div>
                            <div class="font-bold text-gray-800 text-sm md:text-base">ã‚«ã‚¹ã‚¿ãƒ </div>
                            <div class="text-[10px] text-gray-400">Original</div>
                        </button>
                    </div>
                </div>

                <!-- Custom Adventure Form -->
                <div id="customForm" class="hidden p-6 bg-gray-50 rounded-2xl border border-gray-200 space-y-5 animate-fade-in">
                    <h3 class="font-bold text-indigo-700 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></svg>
                        ã‚ªãƒªã‚¸ãƒŠãƒ«è¨­å®šã‚’æ§‹ç¯‰
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider">ã‚¸ãƒ£ãƒ³ãƒ« / ä¸–ç•Œè¦³</label>
                            <input type="text" id="customGenre" placeholder="ä¾‹ï¼šSFã‚¹ãƒšãƒ¼ã‚¹ã‚ªãƒšãƒ©" class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider">å‹åˆ©æ¡ä»¶</label>
                            <input type="text" id="customGoal" placeholder="ä¾‹ï¼šå¤ä»£éºè·¡ã‹ã‚‰è„±å‡ºã™ã‚‹" class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none">
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider">å°å…¥ã®èƒŒæ™¯è¨­å®š</label>
                        <textarea id="customSetting" rows="2" placeholder="AIã«æœ€åˆã«ç†è§£ã•ã›ãŸã„ä¸–ç•Œæƒ…å‹¢ã‚„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å¢ƒé‡ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„" class="w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"></textarea>
                    </div>
                </div>

                <!-- Common Inputs -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2">
                            <span class="bg-indigo-600 text-white w-5 h-5 rounded-full flex items-center justify-center text-[10px]">2</span>
                            ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åå‰
                        </label>
                        <input type="text" id="playerName" placeholder="ä¾‹ï¼šä¸»äººå…¬" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2">
                            <span class="bg-indigo-600 text-white w-5 h-5 rounded-full flex items-center justify-center text-[10px]">3</span>
                            é›£æ˜“åº¦è¨­å®š
                        </label>
                        <select id="difficulty" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all bg-white">
                            <option value="æ¨™æº–çš„ãªãƒãƒ©ãƒ³ã‚¹">æ¨™æº–ï¼ˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ï¼‰</option>
                            <option value="ãƒãƒ¼ãƒ‰ã‚³ã‚¢ï¼ˆå³ã—ã„ãƒªã‚½ãƒ¼ã‚¹åˆ¶ç´„ã¨é›£è§£ãªè¬ï¼‰">ãƒãƒ¼ãƒ‰ã‚³ã‚¢ï¼ˆé›£é–¢ï¼‰</option>
                            <option value="ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ï¼ˆç‰©èªã®é€²è¡Œã‚’å„ªå…ˆï¼‰">ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ï¼ˆç‰©èªé‡è¦–ï¼‰</option>
                        </select>
                    </div>
                </div>

                <!-- Style Selector -->
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2">
                        <span class="bg-indigo-600 text-white w-5 h-5 rounded-full flex items-center justify-center text-[10px]">4</span>
                        ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ç”»é¢¨
                    </label>
                    <select id="artStyle" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all bg-white">
                        <option value="ãƒªã‚¢ãƒ«ï¼ˆå®Ÿå†™æ˜ ç”»ã®ã‚ˆã†ãªç·»å¯†ã§ãƒ•ã‚©ãƒˆãƒªã‚¢ãƒ«ãªæå†™ï¼‰">ãƒªã‚¢ãƒ«</option>
                        <option value="ã‚¢ãƒ‹ãƒ¡ï¼ˆæ—¥æœ¬ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ˜ ç”»é¢¨ï¼‰">ã‚¢ãƒ‹ãƒ¡</option>
                        <option value="ãƒ‘ã‚¹ãƒ†ãƒ«ï¼ˆæ·¡ã„è‰²åˆã„ã¨æŸ”ã‚‰ã‹ãªç­†è‡´ã®å¹»æƒ³çš„ãªæå†™ï¼‰">ãƒ‘ã‚¹ãƒ†ãƒ«</option>
                        <option value="ç²˜åœŸï¼ˆã‚¹ãƒˆãƒƒãƒ—ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¯ãƒ¬ã‚¤ã‚¢ãƒ‹ãƒ¡é¢¨ï¼‰">ç²˜åœŸ</option>
                        <option value="ã‚¹ã‚±ãƒƒãƒï¼ˆé‰›ç­†ç”»ã‚„æœ¨ç‚­ç”»ã®ã‚ˆã†ãªãƒ©ãƒ•ãªç·šç”»é¢¨ï¼‰">ã‚¹ã‚±ãƒƒãƒ</option>
                        <option value="æ°´å½©ï¼ˆé€æ˜æ„Ÿã¨æ»²ã¿ã‚’æ„Ÿã˜ã•ã›ã‚‹æ°´å½©ç”»é¢¨ï¼‰">æ°´å½©</option>
                        <option value="æ²¹çµµï¼ˆåšå¡—ã‚Šã®è³ªæ„Ÿã¨ã‚­ãƒ£ãƒ³ãƒã‚¹ã®ç­†è‡´ã‚’æ„Ÿã˜ã‚‹é‡åšãªé¢¨åˆã„ï¼‰">æ²¹çµµ</option>
                        <option value="æ°´å¢¨ï¼ˆä¼çµ±çš„ãªç™½é»’ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãŒç¾ã—ã„æ°´å¢¨ç”»é¢¨ï¼‰">æ°´å¢¨</option>
                    </select>
                </div>

                <!-- Generate Buttons -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 pt-6">
                    <button onclick="generatePrompts()" class="md:col-span-2 bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 rounded-2xl shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2">
                        ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹
                    </button>
                    <button onclick="resetAll()" class="bg-white hover:bg-gray-50 text-gray-500 font-bold py-4 rounded-2xl border border-gray-200 transition-all active:scale-95">
                        ãƒªã‚»ãƒƒãƒˆ
                    </button>
                </div>
            </div>

            <!-- Output Area -->
            <div id="outputSection" class="hidden border-t border-gray-100 bg-gray-50 p-6 md:p-10 space-y-8 animate-fade-in">
                
                <!-- 1. Visual Prompt -->
                <div class="prompt-card bg-white ring-1 ring-black/5">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-indigo-700 flex items-center gap-2">
                            <span class="w-6 h-6 bg-indigo-100 text-indigo-600 rounded flex items-center justify-center text-xs">Step 1</span>
                            ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ç”Ÿæˆç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
                        </h3>
                    </div>
                    <pre id="visualPromptResult" class="bg-gray-900 text-gray-300 p-4 rounded-xl text-xs overflow-x-auto whitespace-pre-wrap mb-4 font-mono leading-relaxed"></pre>
                    <button onclick="copyText('visualPromptResult')" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl text-sm font-bold transition-all shadow hover:shadow-indigo-200">
                        ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼
                    </button>
                </div>

                <!-- 2. GM Prompt -->
                <div class="prompt-card bg-white ring-1 ring-black/5">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-emerald-700 flex items-center gap-2">
                            <span class="w-6 h-6 bg-emerald-100 text-emerald-600 rounded flex items-center justify-center text-xs">Step 2</span>
                            ã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼é–‹å§‹ç”¨ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
                        </h3>
                    </div>
                    <pre id="gmPromptResult" class="bg-gray-900 text-emerald-100/80 p-4 rounded-xl text-xs overflow-x-auto whitespace-pre-wrap mb-4 font-mono leading-relaxed"></pre>
                    <button onclick="copyText('gmPromptResult')" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl text-sm font-bold transition-all shadow hover:shadow-emerald-200">
                        ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼
                    </button>
                </div>

            </div>
        </div>

        <!-- Footer / Credits -->
        <footer class="text-center text-gray-400 text-xs">
            <p>Â© 2024 AI Adventure Game Project. Released under the MIT License.</p>
        </footer>
    </main>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-10 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-8 py-3 rounded-full shadow-2xl transition-all duration-300 opacity-0 scale-90 pointer-events-none text-sm z-50">
        Copied to clipboard!
    </div>

    <script>
        let currentScenario = 'mystery';

        const scenarioData = {
            mystery: {
                id: 'mystery',
                visualDesc: 'é›ªæ·±ã„å¤œã®å¤ã„æœ¨é€ ãƒšãƒ³ã‚·ãƒ§ãƒ³ã®å¤–è¦³ã€‚çª“ã‹ã‚‰æ¼ã‚Œã‚‹å¾®ã‹ãªæ©™è‰²ã®ç¯ã‚Šã¨ã€é›ªåŸã«ä¼¸ã³ã‚‹ä¸ç©ãªé•·ã„äººå½±ã€‚',
                promptBase: `ã‚ãªãŸã¯ç†Ÿç·´ã®æ¨ç†å°èª¬å®¶ã§ã‚ã‚Šã€æœ€é«˜ã®ã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼ã§ã™ã€‚
## åŸºæœ¬è¨­å®š
- ã‚¸ãƒ£ãƒ³ãƒ«ï¼šæ¨ç†ã‚µã‚¹ãƒšãƒ³ã‚¹ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºãƒ‰ãƒ»ã‚µãƒ¼ã‚¯ãƒ«ï¼‰
- èˆå°ï¼šå¹é›ªã§å­¤ç«‹ã—ãŸå±±å¥¥ã®ãƒšãƒ³ã‚·ãƒ§ãƒ³
- ç™»å ´äººç‰©ï¼šãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆåˆ‘äº‹ï¼‰ã€ã‚ªãƒ¼ãƒŠãƒ¼ï¼ˆå¿…é ˆï¼‰ã€ãã®ä»–3åã®å®¿æ³Šå®¢ã€‚
- äº‹ä»¶ï¼šå¤•é£Ÿå¾Œã€ã‚ã‚‹å®¢å®¤ã§1åãŒéºä½“ã§ç™ºè¦‹ã•ã‚ŒãŸã€‚
- å‹åˆ©æ¡ä»¶ï¼šæ˜æœã®ãƒ‘ãƒˆãƒ­ãƒ¼ãƒ«éšŠåˆ°ç€ã¾ã§ã«ã€çŠ¯äººã‚’ç‰¹å®šã—å‹•æ©Ÿã‚’è§£æ˜ã™ã‚‹ã“ã¨ã€‚`
            },
            dungeon: {
                id: 'dungeon',
                visualDesc: 'è‹”ã‚€ã—ãŸæ¹¿ã£ãŸçŸ³å£ã«å›²ã¾ã‚ŒãŸåºƒå¤§ãªåœ°ä¸‹è¿·å®®ã®é€šè·¯ã€‚é ãã«å…‰ã‚‹è¬ã®ç”Ÿç‰©ã®ç³ã¨ã€åºŠã«æ•£ã‚‰ã°ã‚‹å¤ã„éŒ†ã³ãŸæ­¦å…·ã€‚',
                promptBase: `ã‚ãªãŸã¯ãƒ€ãƒ¼ã‚¯ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ã®ç†Ÿç·´ã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼ã§ã™ã€‚
## åŸºæœ¬è¨­å®š
- ã‚¸ãƒ£ãƒ³ãƒ«ï¼šè¿·å®®æ¢ç´¢å‹RPG
- èˆå°ï¼šå¿˜ã‚Œå»ã‚‰ã‚ŒãŸå¤ç‹ã®åœ°ä¸‹è¿·å®®ã€‚
- åˆæœŸè£…å‚™ï¼šå¤ã„æ¾æ˜ã€ãƒŠã‚¤ãƒ•ã€è–¬è‰Ã—3ã€‚
- å‹åˆ©æ¡ä»¶ï¼šè¿·å®®ã®æœ€æ·±éƒ¨ã‚’æŠœã‘ã€å…‰å°„ã™åœ°ä¸Šã®å‡ºå£ã¸ãŸã©ã‚Šç€ãã“ã¨ã€‚`
            },
            escape: {
                id: 'escape',
                visualDesc: 'ç„¡æ©Ÿè³ªã§æ¸…æ½”ã™ãã‚‹è¬ã®å€‹å®¤ã€‚æ©Ÿèƒ½çš„ãªãƒ™ãƒƒãƒ‰ã¨æœºã€ä¸è‡ªç„¶ã«å›ºãé–‰ã–ã•ã‚ŒãŸå¼·åŒ–ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ã®ãƒ‰ã‚¢ã€å¤©äº•ã®ç›£è¦–ã‚«ãƒ¡ãƒ©ã€‚',
                promptBase: `ã‚ãªãŸã¯è„±å‡ºã‚²ãƒ¼ãƒ ã®ç†Ÿç·´ç›£ä¿®è€…ã§ã™ã€‚
## åŸºæœ¬è¨­å®š
- ã‚¸ãƒ£ãƒ³ãƒ«ï¼šå¯†å®¤è„±å‡ºã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼
- èˆå°ï¼šèº«ã«è¦šãˆã®ãªã„ç ”ç©¶æ–½è¨­ã®ä¸€å®¤ã€‚
- çŠ¶æ³ï¼šéƒ¨å±‹ã«ã¯ãƒ­ãƒƒã‚¯ãŒã‹ã‹ã£ã¦ãŠã‚Šã€å£ã«ã¯ä¸æ°—å‘³ãªã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã€‚
- å‹åˆ©æ¡ä»¶ï¼šéƒ¨å±‹ã«éš ã•ã‚ŒãŸã‚®ãƒŸãƒƒã‚¯ã‚’è§£ãæ˜ã‹ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’çªç ´ã—ã¦è„±å‡ºã™ã‚‹ã“ã¨ã€‚`
            },
            custom: {
                id: 'custom',
                visualDesc: '',
                promptBase: ''
            }
        };

        function selectScenario(id) {
            currentScenario = id;
            document.querySelectorAll('.scenario-btn').forEach(btn => {
                btn.classList.remove('bg-indigo-600', 'text-white', 'border-indigo-600', 'ring-4', 'ring-indigo-100');
                btn.classList.add('border-indigo-50', 'bg-white', 'text-gray-800');
            });
            const selected = document.getElementById('btn-' + id);
            selected.classList.remove('border-indigo-50', 'bg-white', 'text-gray-800');
            selected.classList.add('bg-indigo-600', 'text-white', 'border-indigo-600', 'ring-4', 'ring-indigo-100');
            
            document.getElementById('customForm').classList.toggle('hidden', id !== 'custom');
        }

        // Initialize default
        selectScenario('mystery');

        function generatePrompts() {
            const sc = scenarioData[currentScenario];
            const name = document.getElementById('playerName').value || "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼";
            const diff = document.getElementById('difficulty').value;
            const artStyle = document.getElementById('artStyle').value;

            // 1. Visual Prompt Logic
            let visualDesc = sc.visualDesc;
            if (currentScenario === 'custom') {
                visualDesc = document.getElementById('customSetting').value || 'æœªçŸ¥ã®ä¸–ç•Œã®è±¡å¾´çš„ãªé¢¨æ™¯';
            }
            const visualPrompt = `ç”»åƒç”Ÿæˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
ãƒ†ãƒ¼ãƒï¼š${visualDesc}
ç”»é¢¨ï¼š${artStyle}
ã€åˆ¶ç´„äº‹é …ã€‘
- ç”»åƒå†…ã«ã¯ãƒ†ã‚­ã‚¹ãƒˆï¼ˆæ–‡å­—ï¼‰ã€æ•°å­—ã€ã‚»ãƒªãƒ•ã€UIã€ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’æã‹ãªã„ã§ãã ã•ã„ã€‚
- ã‚²ãƒ¼ãƒ ã®å°å…¥ï¼ˆã‚¢ãƒãƒ³ã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã¨ã—ã¦ã€æ²¡å…¥æ„Ÿã®é«˜ã„ä¸€æšã®ã‚­ãƒ¼ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚`;

            // 2. GM Prompt Logic
            let base = sc.promptBase;
            if (currentScenario === 'custom') {
                const cGenre = document.getElementById('customGenre').value || 'ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼';
                const cGoal = document.getElementById('customGoal').value || 'ç‰©èªã®å®Œçµ';
                const cSetting = document.getElementById('customSetting').value || 'ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã¨ã£ã¦æœªçŸ¥ã®å ´æ‰€';
                base = `ã‚ãªãŸã¯å“è¶Šã—ãŸç‰©èªã®å‰µé€ è€…ã§ã‚ã‚Šã€æœ€é«˜ã®ã‚²ãƒ¼ãƒ ãƒã‚¹ã‚¿ãƒ¼ã§ã™ã€‚\n## åŸºæœ¬è¨­å®š\n- ã‚¸ãƒ£ãƒ³ãƒ«ï¼š${cGenre}\n- èˆå°ï¼š${cSetting}\n- å‹åˆ©æ¡ä»¶ï¼š${cGoal}`;
            }

            const gmPrompt = `${base}

## çŠ¶æ³ã®åŒæœŸ
ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ç¾åœ¨ã€ã‚ãªãŸãŒç”Ÿæˆã—ãŸç”»åƒã«æã‹ã‚ŒãŸå…‰æ™¯ã‚’ç›®ã®å½“ãŸã‚Šã«ã—ã¦ã„ã¾ã™ã€‚
ç”Ÿæˆã•ã‚ŒãŸç”»åƒã®ãƒ‡ã‚£ãƒ†ãƒ¼ãƒ«ã‚’ç‰©èªã«å–ã‚Šå…¥ã‚Œã¤ã¤ã€ç‰©èªã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚

## ã‚²ãƒ¼ãƒ ã®åŸºæœ¬ãƒ«ãƒ¼ãƒ«
1. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®åå‰ã¯ã€Œ${name}ã€ã€é›£æ˜“åº¦ã¯ã€Œ${diff}ã€ã¨ã—ã¦æ‰±ã„ã¾ã™ã€‚
2. çŠ¶æ³æå†™ã®å¾Œã¯å¿…ãš 3ã¤ã®é¸æŠè‚¢ [A][B][C] ã¨ã€[è‡ªç”±å…¥åŠ›]ã®æ¡ˆå†…ã‚’æç¤ºã—ã¦ã‚¿ãƒ¼ãƒ³ã‚’çµ‚äº†ã—ã¦ãã ã•ã„ã€‚
3. æ¯ã‚¿ãƒ¼ãƒ³ã€å›ç­”ã®æœ«å°¾ã«ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæ™‚åˆ»ã€ä½“åŠ›ã€æ‰€æŒå“ã€ãƒ•ãƒ©ã‚°çŠ¶æ³ãªã©ï¼‰ã‚’ç°¡æ½”ã«è¡¨ç¤ºã—ã¦ãã ã•ã„ã€‚

ãã‚Œã§ã¯ã€å†’é™ºã®å§‹ã¾ã‚Šã¨ãªã‚‹æœ€åˆã®æå†™ï¼ˆã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°ï¼‰ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚`;

            document.getElementById('visualPromptResult').innerText = visualPrompt;
            document.getElementById('gmPromptResult').innerText = gmPrompt;
            document.getElementById('outputSection').classList.remove('hidden');
            document.getElementById('outputSection').scrollIntoView({ behavior: 'smooth' });
        }

        function copyText(id) {
            const text = document.getElementById(id).innerText;
            const dummy = document.createElement("textarea");
            document.body.appendChild(dummy);
            dummy.value = text;
            dummy.select();
            document.execCommand("copy");
            document.body.removeChild(dummy);
            showToast();
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('opacity-0', 'scale-90');
            toast.classList.add('opacity-100', 'scale-100');
            setTimeout(() => {
                toast.classList.remove('opacity-100', 'scale-100');
                toast.classList.add('opacity-0', 'scale-90');
            }, 2500);
        }

        function resetAll() {
            if(confirm('è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                location.reload();
            }
        }
    </script>
</body>
</html>